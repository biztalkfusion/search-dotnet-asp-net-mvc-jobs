<script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js"></script>
<link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.11.4/jquery-ui.min.js"></script>

<!-- Attach CSS for step through tutorial tool -->
<script src="~/Scripts/bootstrap-tour-standalone.min.js"></script>
<link href="~/Content/bootstrap-tour-standalone.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.js"></script>
<script>
    $(function () {
        $("#q").autocomplete({
            source: "/home/suggest",
            minLength: 2,
            select: function (event, ui) {
                Search();
            }
        });

        // Set up the guided tour
        var tour = new Tour({
            storage : false,
            steps: [
            {
                element: "#title",
                placement: "bottom",
                title: "Welcome to the Azure Search - EDI Analytics demo website",
                content: "This is purely a demonstration of Azure Integration, Storage and Search, meant to show the core capabilities of the search service.  Let's walk through the various capabilities of Azure.  To get started, press Next.&nbsp;&nbsp;&nbsp;<a href='http://aka.ms/azsearch' target='_blank'>Learn More about EDI Analytics</a>"
            },
            {
                element: "#q",
                placement: "left",
                title: "Search Suggestions",
                content: "A core capability of Azure Search is its ability to provide search suggestions as the user types.  Try typing a few letters and you will see some suggestions shown below the search box making it easy for user to find results.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/mt131377.aspx' target='_blank'>Learn More about Search Suggestions</a>"
            },
            {
                element: "#q",
                placement: "bottom",
                title: "Search",
                content: "Azure Search, searches through results extremely quickly.  Try typing something such as 'analyst' and press ENTER.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/dn798927.aspx' target='_blank'>Learn More</a>"
            },
            {
                element: "#cmbDistance",
                placement: "left",
                title: "Geo-spatial Search",
                content: "Location based searching is often an important part of search applications.  Using Azure Search you can combine textual search with location such as this query that limits results to a specified area.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/dn798927.aspx' target='_blank'>Learn More</a>"
            },
            {
                element: "#pagination",
                placement: "right",
                title: "Paging",
                content: "Paging allows you to limit the number of results displayed on a page and then let the user jump forward and backward in the search results."
            },
            {
                element: "#job_details_div",
                placement: "right",
                title: "Search Results",
                content: "The search results that come back from Azure Search are returned in a JSON format where you then display them as needed in your web page.  Hit highlighting is a tool available from Azure Search that allows you to visually see results in the text that match what the user typed.  For example, if you typed 'analyst' in the search box, you would see this word highlighted in the results.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/dn798927.aspx' target='_blank'>Learn More</a>"
            },
            {
                element: "#jobs-count",
                placement: "left",
                title: "Count",
                content: "Azure Search can return a count of the number of relevant items that match the users search query.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/dn798927.aspx' target='_blank'>Learn More</a>"
            },
            {
                element: "#cmbSortType",
                placement: "right",
                title: "Scoring and Sorting",
                content: "Sometimes you want to be able to let users sort the results, such as in this case where they might want to sort the results by salary, however, sometimes you will want to tune the results that are displayed to the user using 'Scoring'.  This allows you to boost items in the search relevant results in order to improve the user experience or to help meet business objectives.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/dn798928.aspx' target='_blank'>Learn More about Search Scoring</a>"
            },
            {
                element: "#MessageTypeFacetTitle",
                placement: "right",
                title: "Faceting & Filtering",
                content: "Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications. While the term ‘faceted navigation’ might be unfamiliar, it’s almost a given that you have used one before. As the following example shows, faceted navigation is nothing more than the categories used to filter results.  Try clicking on a facet and see how the results are filtered to only include the specified results.&nbsp;&nbsp;&nbsp;<a href='https://msdn.microsoft.com/en-us/library/azure/dn798927.aspx' target='_blank'>Learn More</a>"
            }

            ],
            template: "<div class='popover tour'><div class='arrow'></div><h3 class='popover-title'  style='background-color: #0A5489;color:#FFFFFF'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='btn btn-default' data-role='prev'>« Prev</button><span data-role='separator'> </span><button class='btn btn-default' data-role='next'>Next »</button></div><button class='btn btn-default' data-role='end' style='margin:15px;'>End tour</button></nav></div>"
        });

        // Initialize the tour
       // tour.init();

        // Start the tour
       // tour.start();

    });
</script>

<script>
    $(document).ready(function () {
        Search();
    });
    var MessageTypeFacet, SendingPartnerTypeFacet, ReceivePartnerTypeFacet, salaryRangeFacet, DocDateTypeFacet, FolderTypeFacet, ErrorMessageFacet, sortType, currentPage, zipCode, maxDistance;
    var map = null;
    var lat = 40.736224;
    var lon = -73.992511;
    var pinLayer, infoboxLayer;
    var pinInfobox = null;
    var infoboxLayer = new Microsoft.Maps.EntityCollection();
    var pinLayer = new Microsoft.Maps.EntityCollection();
    var isErroMessage = false;
    $(function () {
        // Load the initial data
        currentPage = 1;
        MessageTypeFacet = '';
        SendingPartnerTypeFacet = '';
        ReceivePartnerTypeFacet = '';
        DocDateTypeFacet = '';
        salaryRangeFacet = '';
        FolderTypeFacet = '';
        ErrorMessageFacet = '';
        document.getElementById("q").focus();
        sortType = 'featured';

        map = new Microsoft.Maps.Map(document.getElementById("jobs-page-map"),
            {
                credentials: "Ag6emoVznJlat4hHnw7nrYGDlQ43ZjXAY7e-8R4bu8ZC7K1d8ORGhZMBkVu3KAVq",
                center: new Microsoft.Maps.Location(40.736224, -73.992511),
                zoom: 12
            });

        Search();
        // Execute search if user clicks enter
        $("#q").keyup(function (event) {
            if (event.keyCode == 13) {
                Search();
            }
        });
    });

    function Search() {
        $("#job_details_div").html("Loading...");
        var q = $("#q").val();
        if (q == '') {
            q = '*';
        }
        // Get center of map to use to score the search results
        $.post('/home/index',
        {
            q: q,
            FolderTypeFacet: FolderTypeFacet,
            MessageTypeFacet: MessageTypeFacet,
            SendingPartnerTypeFacet: SendingPartnerTypeFacet,
            ReceivePartnerTypeFacet: ReceivePartnerTypeFacet,
            DocDateTypeFacet: DocDateTypeFacet,
            currentPage: currentPage,

        },
        function (data) {
            UpdateMessageTypeFacets(data.Facets.MessageType);
            UpdateSendingPartnerTypeFacets(data.Facets.SendPartnerName);
            UpdateReceivePartnerTypeFacets(data.Facets.ReceivePartnerName);
            UpdateDocDateTypeFacets(data.Facets.DocDate);
            UpdateFolderTypeFacets(data.Facets.FolderName);
            UpdateJobDetails(data);
            UpdatePagination(data.Count);

            UpdateFilterReset();
        });
        SearchErrorMessages();
    }
    function SearchErrorMessages() {
        // Get center of map to use to score the search results
        $.post('/home/errormessagesearch',
        {
            ErrorMessageFacet: ErrorMessageFacet,
            currentPage: currentPage
        },
        function (data) {
            UpdateErrorMessageFacets(data.Facets.FolderName);
            if (ErrorMessageFacet != '' && ErrorMessageFacet!=undefined) {
                isErroMessage = true;
                UpdateJobDetails(data);
            }

        });
    }
    function UpdateFilterReset() {        
        // This allows users to remove filters
        var htmlString = '';
        if ((MessageTypeFacet != '' && MessageTypeFacet != undefined) || (SendingPartnerTypeFacet != '' && SendingPartnerTypeFacet != undefined) || (ReceivePartnerTypeFacet != '' && ReceivePartnerTypeFacet != undefined) || (DocDateTypeFacet != '' && DocDateTypeFacet != undefined) || (FolderTypeFacet != '' && FolderTypeFacet != undefined)) {
            htmlString += '<b>Current Filters:</b><br>';
            if (FolderTypeFacet != '' && FolderTypeFacet != undefined) {
                htmlString += FolderTypeFacet + ' [<a href="javascript:void(0)" onclick="RemoveFacet(\'FolderTypeFacet\')">X</a>]<br>';
            }
            if (MessageTypeFacet != '' && MessageTypeFacet != undefined) {
                htmlString += MessageTypeFacet + ' [<a href="javascript:void(0)" onclick="RemoveFacet(\'MessageTypeFacet\')">X</a>]<br>';
            }
            if (SendingPartnerTypeFacet != '' && SendingPartnerTypeFacet != undefined) {
                htmlString += SendingPartnerTypeFacet + ' [<a href="javascript:void(0)" onclick="RemoveFacet(\'SendingPartnerTypeFacet\')">X</a>]<br>';
            }
            if (ReceivePartnerTypeFacet != '' && ReceivePartnerTypeFacet != undefined) {
                htmlString += ReceivePartnerTypeFacet + ' [<a href="javascript:void(0)" onclick="RemoveFacet(\'ReceivePartnerTypeFacet\')">X</a>]<br>';
            }
            if (DocDateTypeFacet != '' && DocDateTypeFacet != undefined) {
                htmlString += DocDateTypeFacet + ' [<a href="javascript:void(0)" onclick="RemoveFacet(\'DocDateTypeFacet\')">X</a>]<br>';
            }


        }
        $("#filterReset").html(htmlString);
    }

    function RemoveFacet(facet) {
        // Remove a facet
        if (facet == "FolderTypeFacet")
            FolderTypeFacet = '';
        if (facet == "MessageTypeFacet")
            MessageTypeFacet = '';
        if (facet == "SendingPartnerTypeFacet")
            SendingPartnerTypeFacet = '';
        if (facet == "ReceivePartnerTypeFacet")
            ReceivePartnerTypeFacet = '';
        if (facet == "DocDateTypeFacet")
            DocDateTypeFacet = '';

        Search();
    }



    function displayInfobox(e) {
        if (e.targetType == "pushpin") {
            // This will readjust the location of the map to fit the infobox
            pinInfobox.setOptions({ title: e.target.Title, description: e.target.Description, visible: true, offset: new Microsoft.Maps.Point(0, 25) });
            pinInfobox.setLocation(e.target.getLocation());

            //A buffer limit to use to specify the infobox must be away from the edges of the map.
            var buffer = 25;

            var infoboxOffset = pinInfobox.getOffset();
            var infoboxAnchor = pinInfobox.getAnchor();
            var infoboxLocation = map.tryLocationToPixel(e.target.getLocation(), Microsoft.Maps.PixelReference.control);

            var dx = infoboxLocation.x + infoboxOffset.x - infoboxAnchor.x;
            var dy = infoboxLocation.y - 25 - infoboxAnchor.y;

            if (dy < buffer) {    //Infobox overlaps with top of map.
                //Offset in opposite direction.
                dy *= -1;

                //add buffer from the top edge of the map.
                dy += buffer;
            } else {
                //If dy is greater than zero than it does not overlap.
                dy = 0;
            }

            if (dx < buffer) {    //Check to see if overlapping with left side of map.
                //Offset in opposite direction.
                dx *= -1;

                //add a buffer from the left edge of the map.
                dx += buffer;
            } else {              //Check to see if overlapping with right side of map.
                dx = map.getWidth() - infoboxLocation.x + infoboxAnchor.x - pinInfobox.getWidth();

                //If dx is greater than zero then it does not overlap.
                if (dx > buffer) {
                    dx = 0;
                } else {
                    //add a buffer from the right edge of the map.
                    dx -= buffer;
                }
            }

            //Adjust the map so infobox is in view
            if (dx != 0 || dy != 0) {
                map.setView({ centerOffset: new Microsoft.Maps.Point(dx, dy), center: map.getCenter() });
            }
        }
    }

    function hideInfobox(e) {
        pinInfobox.setOptions({ visible: false });
    }

    function UpdateZipCode() {
        zipCode = $("#zipCode").val();
        Search();
    }

    function UpdatePagination(docCount) {
        // Update the pagination
        var totalPages = Math.round(docCount / 10);
        // Set a max of 5 items and set the current page in middle of pages
        var startPage = currentPage;
        if ((startPage == 1) || (startPage == 2))
            startPage = 1;
        else
            startPage -= 2;

        var maxPage = startPage + 5;
        if (totalPages < maxPage)
            maxPage = totalPages + 1;
        var backPage = parseInt(currentPage) - 1;
        if (backPage < 1)
            backPage = 1;
        var forwardPage = parseInt(currentPage) + 1;

        var htmlString = '<li><a href="javascript:void(0)" onclick="GoToPage(\'' + backPage + '\')" class="fa fa-angle-left"></a></li>';
        for (var i = startPage; i < maxPage; i++) {
            if (i == currentPage)
                htmlString += '<li  class="active"><a href="#">' + i + '</a></li>';
            else
                htmlString += '<li><a href="javascript:void(0)" onclick="GoToPage(\'' + parseInt(i) + '\')">' + i + '</a></li>';
        }

        htmlString += '<li><a href="javascript:void(0)" onclick="GoToPage(\'' + forwardPage + '\')" class="fa fa-angle-right"></a></li>';
        $("#pagination").html(htmlString);
        $("#paginationFooter").html(htmlString);


    }

    function GoToPage(page) {
        currentPage = page;
        Search();
    }

    function UpdateFolderTypeFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseFolderTypeFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
        }

        $("#FolderType_facets").html(facetResultsHTML);
    }

    function ChooseFolderTypeFacet(facet) {
        FolderTypeFacet = facet;
        Search();
    }
    function UpdateErrorMessageFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseErrorMessageFacet(\'' + data[i].Value + '\');">' + data[i].Count + '</span></a></li>';
        }

        $("#ErrorMessage_facets").html(facetResultsHTML);
    }

    function ChooseErrorMessageFacet(facet) {
        ErrorMessageFacet = facet;
        SearchErrorMessages();
    }

    function UpdateMessageTypeFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseMessageTypeFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
        }

        $("#MessageType_facets").html(facetResultsHTML);
    }

    function ChooseMessageTypeFacet(facet) {
        MessageTypeFacet = facet;
        Search();
    }


    function UpdateSendingPartnerTypeFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseSendingPartnerTypeFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
        }

        $("#SendingPartner_type_facets").html(facetResultsHTML);
    }

    function ChooseSendingPartnerTypeFacet(facet) {
        SendingPartnerTypeFacet = facet;
        Search();
    }



    function UpdateReceivePartnerTypeFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseReceivePartnerTypeFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
        }

        $("#ReceivePartner_type_facets").html(facetResultsHTML);
    }

    function ChooseReceivePartnerTypeFacet(facet) {
        ReceivePartnerTypeFacet = facet;
        Search();
    }



    function UpdateDocDateTypeFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseDocDateTypeFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
        }

        $("#DocDate_type_facets").html(facetResultsHTML);
    }
    function ChooseDocDateTypeFacet(facet) {
        DocDateTypeFacet = facet;
        Search();
    }




    function UpdateSalaryRangeFacets(data) {
        var facetResultsHTML = '';
        for (var i = 0; i < data.length; i++) {
            var lowRange = parseInt(data[i].Value);
            var highRange = lowRange + 49999;

            facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseSalaryRangeFacet(\'' + data[i].Value + '\');">$' + lowRange.toLocaleString() + ' - $' + highRange.toLocaleString() + ' (' + data[i].Count + ')</span></a></li>';
        }

        $("#salary_range_facets").html(facetResultsHTML);
    }

    function ChooseSalaryRangeFacet(facet) {
        salaryRangeFacet = facet;
        Search();
    }

    function setSortType() {
        sortType = $("#cmbSortType").val();
        Search();
    }

    function SetMaxDistance() {
        maxDistance = $("#cmbDistance").val();
        zipCode = $("#zipCode").val();
        Search();
    }

    function UpdateJobDetails(data) {        
        var jobDetailsHTML = '';
        var imgCounter = 0;
        var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
        ];
        $("#available-jobs-label").html('# of Documents <small>(' + data.Count + ")</small>");
        $("#jobs-count").html(data.Count);

        $("#available_jobs_subheader").html(data.Count + ' Available Jobs');

        for (var i = 0; i < data.Results.length; i++) {

            jobDetailsHTML += '<div class="jobs-item with-thumb">';
            //imgCounter++;
            //if (imgCounter == 10)
            //    imgCounter = 0;
            //jobDetailsHTML += '<div class="thumb"><img src="/images/content/bus-0' + imgCounter + '.png" alt=""></div>';
            // jobDetailsHTML += '<div class="clearfix visible-xs"></div>';
            var postingDate = data.Results[i].Document.DocDate;

            var date = new Date(parseInt(postingDate));

            //jobDetailsHTML += '<div class="date">' + date.getDay() + ' <span>' + monthNames[date.getMonth()] + '</span></div>';

            //var featuredListing = '';
            // if (data.Results[0].Document.tags.length > 0)
            //    featuredListing = ' - Featured Job';

            var docPath = data.Results[i].Document.Path;
            var name = docPath.split('/');
            var folderName = name[3];
            var fName = name[5].split('.');
            var finalName = fName[0];
            var finalName2 = '';
            if (finalName.indexOf('_') > -1) {
                var str = finalName.split('_');
                finalName = str[1];
                finalName2 = str[0];
            }
            var hdnName = "hdn" + finalName;            
            var content = '';
            if (isErroMessage!=undefined && isErroMessage == true)
            {
                content = data.Results[i].Document.ExceptionMessage;
            }
            //jobDetailsHTML += '<h6 class="title"><a href="/home/jobdetails?id=' + data.Results[i].Document.id + '">' + data.Results[i].Document.business_title + '</a>&nbsp;' + featuredListing + '</h6>';
            jobDetailsHTML += '<span class="meta"><a href="#" class="read-more" data-toggle="modal" data-target="pop" onclick="showDiv(\'' + finalName.toString() + '\',\'' + folderName.toString() + '\',\'' + finalName2.toString() + '\');">' + docPath + '</a><br/><p>' + content + '</p></span>';

            //jobDetailsHTML += '<p class="description"><b>Salary:</b> $' + data.Results[i].Document.salary_range_from.toLocaleString();
            //if (data.Results[i].Document.salary_range_from != data.Results[i].Document.salary_range_to)
            //    jobDetailsHTML += ' to $' + data.Results[i].Document.salary_range_to.toLocaleString();
            //jobDetailsHTML += ' ' + data.Results[i].Document.salary_frequency + '</p>';

            //var jobDesc = data.Results[i].Document.job_description;
            //jobDesc = jobDesc.substring(0, jobDesc.substring(0, 500).lastIndexOf(' ') + 1);
            //if (data.Results[i].Highlights != null)
            //    jobDesc = data.Results[i].Highlights.job_description
            //jobDetailsHTML += '<p class="description">' + jobDesc + '...&nbsp;&nbsp;&nbsp;<a href="/home/jobdetails?id=' + data.Results[i].Document.id + '" class="read-more">Read More</a></p>';

            jobDetailsHTML += '</div>';
            jobDetailsHTML += '</div>';

        }

        $("#job_details_div").html(jobDetailsHTML);
    }
    function showDiv(hdnfileName, hdnFoldername, hdnfileName2) {        
        $('#pop').modal('show'); 
        $("#pop #hdnFilename").val(hdnfileName);
        $("#pop #hdnFilename2").val(hdnfileName2);
        $("#pop #hdnFoldername").val(hdnFoldername);  
        showHidetabs(1);
    }
    function copy(selector) {
        var $temp = $("<div>");
        $(".modal-body").append($temp);
        $temp.attr("contenteditable", true)
             .html($(selector).html()).select()
             .on("focus", function () { document.execCommand('selectAll', false, null) })
             .focus();
        document.execCommand("copy");
        $temp.remove();
    }
    //Method to show hide tabs
    function showHidetabs(id) {
        $('.btf-tabpanel .e-tabpanel .Addtabmain').addClass('tabnone');
        $('.btf-tabpanel .e-tabpanel #Editorimage' + id).removeClass('tabnone');
        $('.btf-tabpanel .tabsbar div').removeClass('Addtabblue').addClass('Addtabgray');
        $('.btf-tabpanel .tabsbar #Editortab' + id).removeClass('Addtabgray').addClass('Addtabblue');
        if (id == 1) {            
            var filename = $("#pop #hdnFilename").val();
            var foldername = $("#pop #hdnFoldername").val();
            var filename2 = $("#pop #hdnFilename2").val();            
                $.ajax({
                    type: "GET",
                    data: { "fileName": filename, "folderName": foldername, "fileName2": filename2 },
                    url: '@Url.Action("GetBlobContent", "Home")',
                    success: function (result) {
                        //viewSpinner(false);
                        if (result != null && result != "") {
                            $("#pop #txtContent").text(result);
                        }
                    }
                });            
        }
    }
</script>

<div class="container">
    <div class="row">
        <div class="col-sm-4 page-sidebar">
            <aside>
                <div class="sidebar-container">
                    <div class="widget sidebar-widget jobs-search-widget">
                        <h5 class="widget-title" id="title">Search</h5>
                        <div class="widget-content clearfix">
                            <div id="remote">
                                <input class="form-control walkthrough-1" type="text" id="q" placeholder="Search Jobs">
                                <input type="submit" class="search-submit" value="" onclick="Search();">
                            </div>
                        </div>
                    </div>

                    <div class="widget sidebar-widget jobs-filter-widget">
                        <h5 class="widget-title">Filter Results</h5>
                        <p id="filterReset"></p>
                        <div class="widget-content">

                            <h6 >Folder</h6>
                            <ul class="filter-list" id="FolderType_facets"></ul>

                                <h6 id="MessageTypeFacetTitle">Message Type</h6>
                                <ul class="filter-list" id="MessageType_facets"></ul>

                                <h6>Sending Partners</h6>
                                <ul class="filter-list" id="SendingPartner_type_facets"></ul>

                                <h6>Receive Partners</h6>
                                <ul class="filter-list" id="ReceivePartner_type_facets"></ul>

                                <h6>Document Date</h6>
                            <ul class="filter-list" id="DocDate_type_facets"></ul>
                            <h6>Error Messages</h6>
                            <ul class="filter-list" id="ErrorMessage_facets"></ul>
</div>
                    </div>
                </div>
            </aside>
        </div> <!-- end .page-sidebar -->

        <div class="col-sm-8 page-content">
          <!--   <div id="jobs-page-map" style="position:relative;width:750px; height:350px">
            </div> -->

            <h3><span class="jobs-count" id="jobs-count"></span> Documents Processed</h3>

            <div class="clearfix">
                @*<select class="form-control pull-left" id="cmbSortType" onchange="setSortType();">
                    <option value="featured">Relevance</option>
                    <option value="salaryDesc">Salary (High to Low)</option>
                    <option value="salaryIncr">Salary (Low to High)</option>
                    <option value="mostRecent">Most Recently Added</option>
                </select>*@

                <ul id="pagination" class="pagination pull-right">
                </ul>
            </div>

            <div id="job_details_div">
            </div>

            <div class="clearfix">
                <ul id="paginationFooter" class="pagination pull-right">
                </ul>
            </div>
        </div> <!-- end .page-content -->
    </div> <!-- end .container -->
    <div class="modal fade" id="pop">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    Content
                    <input type="hidden" id="hdnFilename">
                    <input type="hidden" id="hdnFilename2">
                    <input type="hidden" id="hdnFoldername">                   
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12 btf-tabpanel">
                            <div>
                                <div class="tabsbar">
                                    <div id="Editortab1" class="Addtabblue" onclick="showHidetabs(1);">
                                        EDI
                                    </div>
                                    @*<div id="Editortab2" class="Addtabgray" onclick="showHidetabs(2);">
                                        Json
                                    </div>*@
                                </div>
                                <div class="e-tabpanel">
                                    <!------------------ Type Details Tab One  ------------------>
                                    <div id="Editorimage1" class="Addtabmain" style="line-height: 24px;">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <textarea cols="100" rows="7" id="txtContent" style="max-width:500px;" readonly></textarea>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left: 90px;">
                                                        <button onclick="copy('#txtContent')">Copy</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="Editorimage2" class="Addtabmain tabnone" style="line-height: 24px;">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    @*<div class="col-md-9">
                                                        <div id="aceEditor" style="width: 475px;min-height:50px;"></div>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left: 90px;">
                                                        <button id="btnAceCopy" onclick="aceEditorcopy('#aceEditor')">Copy</button>
                                                    </div>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> <!-- end .row -->
